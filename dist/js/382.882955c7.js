"use strict";(self["webpackChunkgo_home_project"]=self["webpackChunkgo_home_project"]||[]).push([[382],{1196:function(t,e,s){s.r(e),s.d(e,{default:function(){return D}});var r=function(){var t=this,e=t._self._c;return e("SectionSpacer",{staticClass:"homepage"},[e("ContainerApp",{staticClass:"homepage__container"},[t.errorApatrtmentsList?e("ErrorMessage",{staticClass:"homepage__error",attrs:{message:t.errorApatrtmentsList}}):t._e(),t.isLoadingApartmentsList?e("CircleLoader",{staticClass:"homepage__loader",attrs:{width:t.STYLE.SIZE.PAGE_LOADER_SIZE,height:t.STYLE.SIZE.PAGE_LOADER_SIZE,color:t.STYLE.COLORS.MAIN_COLOR}}):t._e(),t.isLoadingApartmentsList||t.errorApatrtmentsList?t._e():e("main",{staticClass:"homepage__content"},[e("ApartmentFilterForm",{staticClass:"homepage__filter",attrs:{optionItems:t.cities,resetFilter:t.resetFilter},on:{submit:t.logger}}),e("ApartmentsList",{attrs:{items:t.apartmentsToShow,title:"Подборка согласно выбора"},scopedSlots:t._u([{key:"apartment",fn:function({apartment:t}){return[e("ApartmentsItem",{key:t.id,attrs:{id:t.id,rating:t.rating,descr:t.descr,price:t.price,imgSrc:t.imgUrl}})]}}],null,!1,3657423817)})],1)],1)],1)},i=[],n=s(9754),a=s(4826),l=function(){var t=this,e=t._self._c;return e("form",{staticClass:"form-aprtment-filter",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-aprtment-filter__group"},[e("CustomSelect",{staticClass:"form-aprtment-filter__select",attrs:{items:t.optionItems},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),e("CustomInput",{staticClass:"form-aprtment-filter__input",attrs:{placeholder:"Цена, от"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),e("SubmitButton",{staticClass:"form-aprtment-filter__submit-button",attrs:{type:"submit"}},[t._v("Подбор жилья")])],1)},o=[],u=s(8464),c=function(){var t=this,e=t._self._c;return e("select",t._g({staticClass:"custom-select"},t.listeners),t._l(t.formatedItems,(function(s){return e("option",{key:s.value,domProps:{value:s.value,selected:s.selected}},[t._v(" "+t._s(s.label)+" ")])})),0)},p=[],m={name:"CustomSelect",props:{items:{type:Array,requare:!0}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}},formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}}},d=m,f=s(1001),h=(0,f.Z)(d,c,p,!1,null,"6a3c2b68",null),_=h.exports,g=s(3135),y={name:"ApartmentFilterForm",components:{CustomInput:u.Z,CustomSelect:_,SubmitButton:g.Z},props:{optionItems:{type:Array,requare:!0},resetFilter:{type:Function,requare:!0}},data(){return{city:"",price:""}},methods:{handleResetFilter(){Object.assign(this.$data,this.$options.data.call(this)),this.resetFilter()},handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})}}},v=y,C=(0,f.Z)(v,l,o,!1,null,"36a70a37",null),S=C.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"gallery"},[t.title?e("MainTitle",{staticClass:"gallery__title",attrs:{level:1}},[t._v(t._s(t.title))]):t._e(),e("div",{staticClass:"gallery__apartments-list"},[t._l(t.items,(function(e){return[t._t("apartment",null,{apartment:e})]}))],2)],1)},L=[],I=s(5680),A={name:"ApartmentsList",components:{MainTitle:I.Z},props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},Z=A,w=(0,f.Z)(Z,b,L,!1,null,"27fe9f11",null),k=w.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"apartments-item"},[e("div",{staticClass:"apartments-item__inner"},[e("img",{staticClass:"apartments-item__photo",attrs:{src:t.imgSrc,alt:"apartment photo"}}),e("div",{staticClass:"apartments-item__content"},[e("p",{staticClass:"apartments-item__description"},[t._v(t._s(t.descr))]),e("div",{staticClass:"apartments-item__rating"},[e("StarRating",{attrs:{rating:t.rating}})],1),e("div",{staticClass:"apartments-item__price"},[t._v("UAH "+t._s(t.price))]),e("router-link",{staticClass:"apartments-item__link",attrs:{to:{name:"apartment",params:{id:t.id},query:{name:"John"}}}})],1)])])},E=[],F=s(7356),T={name:"ApartmentsItem",components:{StarRating:F.Z},props:{id:{tipe:String,require:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,drequired:!0},imgSrc:{type:String,default:""}},methods:{log(t,e){console.log("click",t,e)},handleLinkClicked(){console.log("handleLinkClicked")}}},B=T,N=(0,f.Z)(B,x,E,!1,null,"58ed8f76",null),$=N.exports,M=s(6167),O=s(2257),R=s(9035),P=s(3822),V={name:"HomePage",components:{SectionSpacer:n.Z,ContainerApp:a.Z,ApartmentFilterForm:S,ApartmentsList:k,ApartmentsItem:$,CircleLoader:M.Z,ErrorMessage:O.Z},data(){return{STYLE:R.BI,apartments:[],optionsCities:[],select:"",text:"",filter:{city:"",price:""}}},computed:{...(0,P.Se)("apartments",["getStateCities","getStateApartments","getStateIsLoadingApartmentsList","getStateErrorApatrtmentsList"]),apartmentsList(){return this.getStateApartments},isLoadingApartmentsList(){return this.getStateIsLoadingApartmentsList},errorApatrtmentsList(){return this.getStateErrorApatrtmentsList},cities(){return[{value:"",label:"Город",selected:!0},...this.getStateCities]},apartmentsToShow(){const t=this.apartmentsList,{price:e,city:s}=this.filter;return e||s?s&&e?t.filter((t=>t.location.city===this.filter.city)).filter((t=>t.price>=Number(e))):!s&&e?t.filter((t=>t.price>=Number(e))):t.filter((t=>t.location.city===this.filter.city)):t}},methods:{...(0,P.nv)("apartments",["getApartmentsList"]),handleClick(){console.log("EmitClick")},logger(t){console.log("filter before",this.filter),this.filter={city:t.city,price:t.price},console.log("Form data",t),console.log("filter after",this.filter)},resetFilter(){this.filter={city:"",price:""}}},async created(){await this.getApartmentsList({}),this.optionsCities=this.$store.state.apartments.apartmentsList.map((t=>t.location.city)).filter(((t,e,s)=>s.indexOf(t)===e))}},j=V,q=(0,f.Z)(j,r,i,!1,null,"66f0d696",null),D=q.exports},3135:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("button",t._g({class:{btn:!0,"btn--outlined":t.outlined},attrs:{type:t.type,disabled:t.loading}},t.$listeners),[t.loading?e("CircleLoader",{staticClass:"btn__loader",attrs:{width:"38",height:"38"}}):t._e(),e("span",{staticClass:"btn__content",class:t.contrntStyle},[t._t("default")],2)],1)},i=[],n=s(6167),a={name:"ButtonMain",components:{CircleLoader:n.Z},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contrntStyle(){return{"btn__content--hiden":this.loading}}}},l=a,o=s(1001),u=(0,o.Z)(l,r,i,!1,null,"1e14b233",null),c=u.exports},6167:function(t,e,s){s.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("span",{staticClass:"circle-loader"},[e("svg",{staticClass:"preloader-icon preloader",style:t.style,attrs:{viewBox:"0 0 100 100"}},[e("circle",{attrs:{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"}})])])},i=[],n={name:"CircleLoader",props:{with:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#ffffff"}},computed:{style(){return{stroke:this.color,width:this.width,height:this.height}}}},a=n,l=s(1001),o=(0,l.Z)(a,r,i,!1,null,"bc3efa0a",null),u=o.exports},8464:function(t,e,s){s.d(e,{Z:function(){return h}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper-input"},[e("input",t._g(t._b({staticClass:"custom-input",class:!t.isValid&&"custom-input--error",attrs:{type:t.inputType},domProps:{value:t.value},on:{blur:t.blurHandler}},"input",t.$attrs,!1),t.listeners)),t.isValid?t._e():e("span",{staticClass:"custom-input__error"},[t._v(t._s(t.error))]),"password"===t.type&&t.showIconBtn?e("iconButton",{staticClass:"custom-input__button",attrs:{type:"button"},on:{click:t.toggleShow}},[t.showInput?e("img",{staticClass:"button-icon",attrs:{src:s(5649),alt:"icon"}}):t._e(),t.showInput?t._e():e("img",{staticClass:"button-icon",attrs:{src:s(1243),alt:"icon"}})]):t._e()],1)},i=[],n=function(){var t=this,e=t._self._c;return e("button",t._g({staticClass:"icon-button",attrs:{type:t.type}},t.$listeners),[t._t("default")],2)},a=[],l={name:"IconButton",props:{type:{type:String,default:"button"}}},o=l,u=s(1001),c=(0,u.Z)(o,n,a,!1,null,"2d1b312e",null),p=c.exports,m={name:"PusswordInput",components:{iconButton:p},inject:{form:{default:null}},inheritAttrs:!1,props:{type:{type:String,default:"text"},value:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},showIconBtn:{type:Boolean,default:!0}},data(){return{isValid:!0,error:"",showInput:!1,inputType:this.type,isFirstInput:!0}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}},watch:{value(){this.isFirstInput||this.validate()}},mounted(){this.form&&this.form.registerInput(this)},beforeDestroy(){this.form&&this.form.unRegisterInput(this)},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:s}=t(this.value);return e||(this.error=s||this.errorMessage),e})),this.isValid},checkIsValid(){return this.isValid},reset(){this.isValid=!0,this.isFirstInput=!0,this.$emit("input","")},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1},toggleShow(){if("password"===this.inputType)return this.inputType="text",void(this.showInput=!this.showInput);this.inputType="password",this.showInput=!this.showInput}}},d=m,f=(0,u.Z)(d,r,i,!1,null,"1e4f2920",null),h=f.exports},2257:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"error-message"},[e("MainTitle",{staticClass:"error-message__title"},[t._v(t._s(t.title))]),e("p",{staticClass:"lerror-message__description"},[t._v(t._s(t.message))])],1)},i=[],n=s(5680),a={name:"ErrorMessage",props:{title:{type:String,default:"Произошла Ошибка"},message:{type:String,default:""}},components:{MainTitle:n.Z}},l=a,o=s(1001),u=(0,o.Z)(l,r,i,!1,null,"4f28b3c6",null),c=u.exports},5680:function(t,e,s){s.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t._self._c;return e(t.tagName,{tag:"component",staticClass:"main-title"},[t._t("default")],2)},i=[],n={name:"MainTitle",props:{level:{type:Number,default:1}},computed:{tagName(){return`h${this.level}`}}},a=n,l=s(1001),o=(0,l.Z)(a,r,i,!1,null,"59b2331d",null),u=o.exports},9754:function(t,e,s){s.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-spacer"},[t._t("default")],2)},i=[],n={name:"SectionSpacer"},a=n,l=s(1001),o=(0,l.Z)(a,r,i,!1,null,"8f43a4a8",null),u=o.exports},7356:function(t,e,s){s.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"star-rating"},[t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--outlined"})})),e("div",{staticClass:"star-rating__colored",style:t.ratingWhithStyle},t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--colored"})})),0)],2)},i=[],n={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWhithStyle(){return`width: ${this.ratingWidth}%;`}}},a=n,l=s(1001),o=(0,l.Z)(a,r,i,!1,null,"ab2cf22c",null),u=o.exports},9035:function(t,e,s){s.d(e,{BI:function(){return n},Nj:function(){return r},ye:function(){return i}});const r=140,i=2,n={COLORS:{MAIN_COLOR:"#ff662d"},SIZE:{PAGE_LOADER_SIZE:"200px"}}},1243:function(t,e,s){t.exports=s.p+"img/eye-closed.5b52ef74.svg"},5649:function(t,e,s){t.exports=s.p+"img/eye.27115a54.svg"}}]);
//# sourceMappingURL=382.882955c7.js.map