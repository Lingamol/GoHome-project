(function(){"use strict";var t={7422:function(t,e,a){var s=a(6369),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("NotificationsApp"),e("div",{staticClass:"content"},[e("AppHeader"),e("router-view")],1),t._v(" "+t._s(t.$store.state.user)+" "),e("AppFooter")],1)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("ContainerApp",{staticClass:"header__container"},[e("Logo"),e("AuthNav")],1)],1)},o=[],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._t("default")],2)},p=[],u={name:"ContainerApp"},c=u,m=a(1001),d=(0,m.Z)(c,l,p,!1,null,"e04b5fb0",null),f=d.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("router-link",{staticClass:"logo__link",attrs:{to:"/"}},[e("img",{staticClass:"logo__img",attrs:{src:a(8773),alt:"logo"}}),e("div",{staticClass:"logo__text"},[e("span",{staticClass:"logo__text_first"},[t._v("Go")]),e("span",{staticClass:"logo__text_second"},[t._v("Home")])])])],1)},g=[],_={name:"Logo"},v=_,C=(0,m.Z)(v,h,g,!1,null,"086d3b7b",null),w=C.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth"},[e("AuthButton",{staticClass:"sign-in",attrs:{route:"/login"}},[t._v("Вхід")]),e("span",[t._v("/")]),e("AuthButton",{staticClass:"sign-up",attrs:{route:"/register"}},[t._v("Реєстрація")])],1)},y=[],A=function(){var t=this,e=t._self._c;return e("div",[e("router-link",{staticClass:"button",attrs:{to:t.route}},[t._t("default")],2)],1)},b=[],L={name:"AuthButton",props:{type:{type:String,default:"button"},route:{type:String,required:!0}}},x=L,R=(0,m.Z)(x,A,b,!1,null,"75850234",null),I=R.exports,E={name:"AuthNav",components:{AuthButton:I},methods:{signIn(){alert("signIN")},signUp(){alert("signUP")}}},Z=E,k=(0,m.Z)(Z,S,y,!1,null,"29725dfe",null),$=k.exports,D={name:"AppHeader",components:{ContainerApp:f,Logo:w,AuthNav:$}},O=D,P=(0,m.Z)(O,i,o,!1,null,"29eed980",null),T=P.exports,F=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"})},M=[],U={name:"AppFooter"},B=U,N=(0,m.Z)(B,F,M,!1,null,"b747a26c",null),q=N.exports,j=function(){var t=this,e=t._self._c;return e("notifications",{attrs:{classes:"vue-notification"}})},V=[],H={name:"NotificationsApp"},Y=H,G=(0,m.Z)(Y,j,V,!1,null,"02e713a0",null),W=G.exports,z=a(3822),J={name:"App",components:{AppFooter:q,AppHeader:T,NotificationsApp:W},computed:{...(0,z.Se)("auth",["isLoggedIn"])},mounted(){console.log("isLoggedIn:",this.isLoggedIn)}},K=J,Q=(0,m.Z)(K,r,n,!1,null,null,null),X=Q.exports,tt=a(2631),et=function(){var t=this,e=t._self._c;return e("SectionSpacer",{staticClass:"homepage"},[e("ContainerApp",{staticClass:"homepage__container"},[t.errorApatrtmentsList?e("ErrorMessage",{staticClass:"homepage__error",attrs:{message:t.errorApatrtmentsList}}):t._e(),t.isLoadingApartmentsList?e("CircleLoader",{staticClass:"homepage__loader",attrs:{width:t.STYLE.SIZE.PAGE_LOADER_SIZE,height:t.STYLE.SIZE.PAGE_LOADER_SIZE,color:t.STYLE.COLORS.MAIN_COLOR}}):t._e(),t.isLoadingApartmentsList||t.errorApatrtmentsList?t._e():e("main",{staticClass:"homepage__content"},[e("ApartmentFilterForm",{staticClass:"homepage__filter",attrs:{optionItems:t.cities,resetFilter:t.resetFilter},on:{submit:t.logger}}),e("ApartmentsList",{attrs:{items:t.apartmentsToShow,title:"Подборка согласно выбора"},scopedSlots:t._u([{key:"apartment",fn:function({apartment:t}){return[e("ApartmentsItem",{key:t.id,attrs:{id:t.id,rating:t.rating,descr:t.descr,price:t.price,imgSrc:t.imgUrl}})]}}],null,!1,3657423817)})],1)],1)],1)},at=[],st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-spacer"},[t._t("default")],2)},rt=[],nt={name:"SectionSpacer"},it=nt,ot=(0,m.Z)(it,st,rt,!1,null,"8f43a4a8",null),lt=ot.exports,pt=function(){var t=this,e=t._self._c;return e("form",{staticClass:"form-aprtment-filter",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-aprtment-filter__group"},[e("CustomSelect",{staticClass:"form-aprtment-filter__select",attrs:{items:t.optionItems},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),e("CustomInput",{staticClass:"form-aprtment-filter__input",attrs:{placeholder:"Цена, от"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),e("SubmitButton",{staticClass:"form-aprtment-filter__submit-button",attrs:{type:"submit"}},[t._v("Подбор жилья")])],1)},ut=[],ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper-input"},[e("input",t._g(t._b({staticClass:"custom-input",class:!t.isValid&&"custom-input--error",attrs:{type:t.inputType},domProps:{value:t.value},on:{blur:t.blurHandler}},"input",t.$attrs,!1),t.listeners)),t.isValid?t._e():e("span",{staticClass:"custom-input__error"},[t._v(t._s(t.error))]),"password"===t.type&&t.showIconBtn?e("iconButton",{staticClass:"custom-input__button",attrs:{type:"button"},on:{click:t.toggleShow}},[t.showInput?e("img",{staticClass:"button-icon",attrs:{src:a(5649),alt:"icon"}}):t._e(),t.showInput?t._e():e("img",{staticClass:"button-icon",attrs:{src:a(1243),alt:"icon"}})]):t._e()],1)},mt=[],dt=function(){var t=this,e=t._self._c;return e("button",t._g({staticClass:"icon-button",attrs:{type:t.type}},t.$listeners),[t._t("default")],2)},ft=[],ht={name:"IconButton",props:{type:{type:String,default:"button"}}},gt=ht,_t=(0,m.Z)(gt,dt,ft,!1,null,"2d1b312e",null),vt=_t.exports,Ct={name:"PusswordInput",components:{iconButton:vt},inject:{form:{default:null}},inheritAttrs:!1,props:{type:{type:String,default:"text"},value:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},showIconBtn:{type:Boolean,default:!0}},data(){return{isValid:!0,error:"",showInput:!1,inputType:this.type,isFirstInput:!0}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}},watch:{value(){this.isFirstInput||this.validate()}},mounted(){this.form&&this.form.registerInput(this)},beforeDestroy(){this.form&&this.form.unRegisterInput(this)},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:a}=t(this.value);return e||(this.error=a||this.errorMessage),e})),this.isValid},checkIsValid(){return this.isValid},reset(){this.isValid=!0,this.isFirstInput=!0,this.$emit("input","")},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1},toggleShow(){if("password"===this.inputType)return this.inputType="text",void(this.showInput=!this.showInput);this.inputType="password",this.showInput=!this.showInput}}},wt=Ct,St=(0,m.Z)(wt,ct,mt,!1,null,"1e4f2920",null),yt=St.exports,At=function(){var t=this,e=t._self._c;return e("select",t._g({staticClass:"custom-select"},t.listeners),t._l(t.formatedItems,(function(a){return e("option",{key:a.value,domProps:{value:a.value,selected:a.selected}},[t._v(" "+t._s(a.label)+" ")])})),0)},bt=[],Lt={name:"CustomSelect",props:{items:{type:Array,requare:!0}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}},formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}}},xt=Lt,Rt=(0,m.Z)(xt,At,bt,!1,null,"6a3c2b68",null),It=Rt.exports,Et=function(){var t=this,e=t._self._c;return e("button",t._g({class:{btn:!0,"btn--outlined":t.outlined},attrs:{type:t.type,disabled:t.loading}},t.$listeners),[t.loading?e("CircleLoader",{staticClass:"btn__loader",attrs:{width:"38",height:"38"}}):t._e(),e("span",{staticClass:"btn__content",class:t.contrntStyle},[t._t("default")],2)],1)},Zt=[],kt=function(){var t=this,e=t._self._c;return e("span",{staticClass:"circle-loader"},[e("svg",{staticClass:"preloader-icon preloader",style:t.style,attrs:{viewBox:"0 0 100 100"}},[e("circle",{attrs:{cx:"50",cy:"50",r:"40","stroke-width":"5",fill:"none"}})])])},$t=[],Dt={name:"CircleLoader",props:{with:{type:[Number,String],default:50},height:{type:[Number,String],default:50},color:{type:String,default:"#ffffff"}},computed:{style(){return{stroke:this.color,width:this.width,height:this.height}}}},Ot=Dt,Pt=(0,m.Z)(Ot,kt,$t,!1,null,"bc3efa0a",null),Tt=Pt.exports,Ft={name:"ButtonMain",components:{CircleLoader:Tt},props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{contrntStyle(){return{"btn__content--hiden":this.loading}}}},Mt=Ft,Ut=(0,m.Z)(Mt,Et,Zt,!1,null,"1e14b233",null),Bt=Ut.exports,Nt={name:"ApartmentFilterForm",components:{CustomInput:yt,CustomSelect:It,SubmitButton:Bt},props:{optionItems:{type:Array,requare:!0},resetFilter:{type:Function,requare:!0}},data(){return{city:"",price:""}},methods:{handleResetFilter(){Object.assign(this.$data,this.$options.data.call(this)),this.resetFilter()},handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})}}},qt=Nt,jt=(0,m.Z)(qt,pt,ut,!1,null,"36a70a37",null),Vt=jt.exports,Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"gallery"},[t.title?e("MainTitle",{staticClass:"gallery__title",attrs:{level:1}},[t._v(t._s(t.title))]):t._e(),e("div",{staticClass:"gallery__apartments-list"},[t._l(t.items,(function(e){return[t._t("apartment",null,{apartment:e})]}))],2)],1)},Yt=[],Gt=function(){var t=this,e=t._self._c;return e(t.tagName,{tag:"component",staticClass:"main-title"},[t._t("default")],2)},Wt=[],zt={name:"MainTitle",props:{level:{type:Number,default:1}},computed:{tagName(){return`h${this.level}`}}},Jt=zt,Kt=(0,m.Z)(Jt,Gt,Wt,!1,null,"59b2331d",null),Qt=Kt.exports,Xt={name:"ApartmentsList",components:{MainTitle:Qt},props:{title:{type:String,default:""},items:{type:Array,default:()=>[]}}},te=Xt,ee=(0,m.Z)(te,Ht,Yt,!1,null,"27fe9f11",null),ae=ee.exports,se=function(){var t=this,e=t._self._c;return e("div",{staticClass:"apartments-item"},[e("div",{staticClass:"apartments-item__inner"},[e("img",{staticClass:"apartments-item__photo",attrs:{src:t.imgSrc,alt:"apartment photo"}}),e("div",{staticClass:"apartments-item__content"},[e("p",{staticClass:"apartments-item__description"},[t._v(t._s(t.descr))]),e("div",{staticClass:"apartments-item__rating"},[e("StarRating",{attrs:{rating:t.rating}})],1),e("div",{staticClass:"apartments-item__price"},[t._v("UAH "+t._s(t.price))]),e("router-link",{staticClass:"apartments-item__link",attrs:{to:{name:"apartment",params:{id:t.id},query:{name:"John"}}}})],1)])])},re=[],ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"star-rating"},[t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--outlined"})})),e("div",{staticClass:"star-rating__colored",style:t.ratingWhithStyle},t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--colored"})})),0)],2)},ie=[],oe={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWhithStyle(){return`width: ${this.ratingWidth}%;`}}},le=oe,pe=(0,m.Z)(le,ne,ie,!1,null,"ab2cf22c",null),ue=pe.exports,ce={name:"ApartmentsItem",components:{StarRating:ue},props:{id:{tipe:String,require:!0},descr:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,drequired:!0},imgSrc:{type:String,default:""}},methods:{log(t,e){console.log("click",t,e)},handleLinkClicked(){console.log("handleLinkClicked")}}},me=ce,de=(0,m.Z)(me,se,re,!1,null,"58ed8f76",null),fe=de.exports,he=function(){var t=this,e=t._self._c;return e("div",{staticClass:"error-message"},[e("MainTitle",{staticClass:"error-message__title"},[t._v(t._s(t.title))]),e("p",{staticClass:"lerror-message__description"},[t._v(t._s(t.message))])],1)},ge=[],_e={name:"ErrorMessage",props:{title:{type:String,default:"Произошла Ошибка"},message:{type:String,default:""}},components:{MainTitle:Qt}},ve=_e,Ce=(0,m.Z)(ve,he,ge,!1,null,"4f28b3c6",null),we=Ce.exports;const Se=140,ye=2,Ae={COLORS:{MAIN_COLOR:"#ff662d"},SIZE:{PAGE_LOADER_SIZE:"200px"}};var be={name:"HomePage",components:{SectionSpacer:lt,ContainerApp:f,ApartmentFilterForm:Vt,ApartmentsList:ae,ApartmentsItem:fe,CircleLoader:Tt,ErrorMessage:we},data(){return{STYLE:Ae,apartments:[],optionsCities:[],select:"",text:"",filter:{city:"",price:""}}},computed:{...(0,z.Se)("apartments",["getStateCities","getStateApartments","getStateIsLoadingApartmentsList","getStateErrorApatrtmentsList"]),apartmentsList(){return this.getStateApartments},isLoadingApartmentsList(){return this.getStateIsLoadingApartmentsList},errorApatrtmentsList(){return this.getStateErrorApatrtmentsList},cities(){return[{value:"",label:"Город",selected:!0},...this.getStateCities]},apartmentsToShow(){const t=this.apartmentsList,{price:e,city:a}=this.filter;return e||a?a&&e?t.filter((t=>t.location.city===this.filter.city)).filter((t=>t.price>=Number(e))):!a&&e?t.filter((t=>t.price>=Number(e))):t.filter((t=>t.location.city===this.filter.city)):t}},methods:{...(0,z.nv)("apartments",["getApartmentsList"]),handleClick(){console.log("EmitClick")},logger(t){console.log("filter before",this.filter),this.filter={city:t.city,price:t.price},console.log("Form data",t),console.log("filter after",this.filter)},resetFilter(){this.filter={city:"",price:""}}},async created(){await this.getApartmentsList({}),this.optionsCities=this.$store.state.apartments.apartmentsList.map((t=>t.location.city)).filter(((t,e,a)=>a.indexOf(t)===e))}},Le=be,xe=(0,m.Z)(Le,et,at,!1,null,"66f0d696",null),Re=xe.exports,Ie=function(){var t=this,e=t._self._c;return e("SectionSpacer",{staticClass:"apartment-page"},[e("ContainerApp",{staticClass:"apartment-page__container"},[t.isErrorApartment?e("ErrorMessage",{staticClass:"apartment-page__error",attrs:{message:t.isErrorApartment}}):t._e(),t.isLoadingApartment?e("CircleLoader",{staticClass:"apartment-page__loader",attrs:{width:t.STYLE.SIZE.PAGE_LOADER_SIZE,height:t.STYLE.SIZE.PAGE_LOADER_SIZE,color:t.STYLE.COLORS.MAIN_COLOR}}):t._e(),t.isLoadingApartment||t.isErrorApartment?t._e():e("div",{staticClass:"apartment-page-content"},[e("main",{staticClass:"apartment-page"},[e("ApartmentsMainInfo",{staticClass:"apartment-page__main-info",attrs:{apartment:t.apartment}}),e("div",{staticClass:"apartment-page__additional-info"},[e("ApartmentsOwner",{staticClass:"apartment-page__owner",attrs:{owner:t.apartment.owner}}),e("ReviewsApartments",{staticClass:"apartment-page__reviews",attrs:{reviews:t.reviews}})],1)],1)])],1)],1)},Ee=[],Ze=function(){var t=this,e=t._self._c;return e("article",{staticClass:"apartment-main-info"},[e("div",{staticClass:"apartment-main-info__header"},[e("h1",{staticClass:"apartment-main-info__title"},[t._v(t._s(t.apartment.title))]),e("StarRating",{attrs:{rating:t.apartment.rating}})],1),e("img",{staticClass:"apartment-main-info__photo",attrs:{src:t.apartment.imgUrl,alt:t.apartment.title}}),e("p",{staticClass:"apartment-main-info__description"},[t._v(" "+t._s(t.apartment.descr)+" ")]),e("ResereButton",{staticClass:"apartment-main-info__button",on:{click:function(e){return t.handleReserve(t.apartment.id)}}},[t._v("Забронировать")])],1)},ke=[],$e={name:"ApartmentsMainInfo",components:{StarRating:ue,ResereButton:Bt},props:{apartment:{type:Object,requred:!0}},methods:{handleReserve(t){alert(`apartment ${t} rserved`)}}},De=$e,Oe=(0,m.Z)(De,Ze,ke,!1,null,"7f52b464",null),Pe=Oe.exports,Te=function(){var t=this,e=t._self._c;return e("section",{staticClass:"owner-info"},[e("h3",{staticClass:"owner-info__header"},[t._v("Информация о владельце:")]),e("div",{staticClass:"owner-info__tab"},[e("p",{staticClass:"owner-info__name"},[t._v("Имя "+t._s(t.owner.name))]),e("a",{staticClass:"owner-info__phone",attrs:{href:`tel:${t.owner.phone}`}},[t._v("tel: "+t._s(t.owner.phone))]),e("a",{staticClass:"owner-info__email",attrs:{href:`mailto:${t.owner.email}`}},[t._v("e-mail: "+t._s(t.owner.email))])])])},Fe=[],Me={name:"ApartmentsOwner",props:{owner:{type:Object,requare:!0}}},Ue=Me,Be=(0,m.Z)(Ue,Te,Fe,!1,null,"383e811c",null),Ne=Be.exports,qe=function(){var t=this,e=t._self._c;return e("section",{staticClass:"reviews"},[e("ReviewsHeading",{staticClass:"reviews__header",attrs:{countReviews:t.amountReviews,averageRating:t.averageRating}}),e("ul",t._l(t.currentReviews,(function(t){return e("ReviewsItem",{key:t.id,staticClass:"reviews__item",attrs:{review:t}})})),1),e("ReadMoreBtn",{staticClass:"reviews__button",on:{click:t.toggleRewievs}},[t._v(t._s(t.buttonText))])],1)},je=[],Ve=function(){var t=this,e=t._self._c;return e("li",{staticClass:"review-item"},[e("ReviewHeader",{attrs:{author:t.review.name,rating:t.review.rating,avatarUrl:t.review.avatarUrl}}),e("p",{staticClass:"review-item__text"},[t._v(t._s(t.textElipses))])],1)},He=[],Ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"review-header"},[e("ReviewAvatar",{staticClass:"review-header__user-avatar",attrs:{avatarUrl:t.avatarUrl}}),e("div",{staticClass:"review-header__title"},[e("p",{staticClass:"review-header__author"},[t._v(t._s(t.author))]),e("StarRating",{attrs:{rating:t.rating}})],1)],1)},Ge=[],We=function(){var t=this,e=t._self._c;return e("div",{staticClass:"avatar"},[""===t.avatarUrl?e("img",{staticClass:"avatar__user-icon",attrs:{src:a(9815),alt:"user-icon"}}):t._e(),""!==t.avatarUrl?e("img",{staticClass:"avatar__user-photo",attrs:{src:t.avatarUrl,alt:"user-photo"}}):t._e()])},ze=[],Je={name:"ReviewAvatar",props:{avatarUrl:{type:String,default:""}}},Ke=Je,Qe=(0,m.Z)(Ke,We,ze,!1,null,"95aee27c",null),Xe=Qe.exports,ta={name:"ReviewHeader",props:{avatarUrl:{type:String,default:""},author:{type:String,required:!0},rating:{type:Number,default:0}},components:{StarRating:ue,ReviewAvatar:Xe}},ea=ta,aa=(0,m.Z)(ea,Ye,Ge,!1,null,"49a8385a",null),sa=aa.exports,ra={name:"ReviewsItem",props:{review:{type:Object,requaired:!0}},components:{ReviewHeader:sa},data(){return{maxLength:Se}},computed:{textElipses(){return this.review.text.length<this.maxLength?this.review.text:this.review.text.slice(0,this.maxLength)+"..."}}},na=ra,ia=(0,m.Z)(na,Ve,He,!1,null,"370fbd4a",null),oa=ia.exports,la=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reviews-heading"},[e("h3",{staticClass:"reviews-heading__title"},[t._v("Суммарный рейтинг")]),e("div",{staticClass:"reviews-heading__rating"},[e("p",{staticClass:"reviews-heading__count"},[t._v(t._s(t.countReviews)+" "+t._s(t.pluralText(t.countReviews)))]),e("StarRating",{attrs:{rating:t.averageRating}})],1)])},pa=[],ua={name:"ReviewsHeading",props:{countReviews:{type:Number,requaired:!0},averageRating:{type:Number,requaired:!0}},components:{StarRating:ue},methods:{pluralText(t){return 1===t?"отзыв":t<=4?"отзыва":"отзывов"}}},ca=ua,ma=(0,m.Z)(ca,la,pa,!1,null,"09df96ad",null),da=ma.exports,fa={name:"ReviewsApartments",components:{ReviewsItem:oa,ReviewsHeading:da,ReadMoreBtn:Bt},props:{reviews:{type:Array,requaired:!0}},data(){return{REVIEWS_LIMIT:ye,reviwsLimit:ye}},computed:{averageRating(){return this.reviews.reduce(((t,e)=>t+e.rating),0)/this.reviews.length},amountReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviwsLimit)},buttonText(){return this.reviwsLimit===this.reviews.length?"Свернуть":"Читать еще..."}},methods:{toggleRewievs(){this.reviwsLimit===this.reviews.length?this.reviwsLimit=ye:this.reviwsLimit=this.reviews.length}}},ha=fa,ga=(0,m.Z)(ha,qe,je,!1,null,"ff777c94",null),_a=ga.exports;const va=[{id:1,name:"Ирина",avatarUrl:"https://res.cloudinary.com/dcw1yxr6s/image/upload/v1682885813/user_64415fac50c281977c774afc_2101a-140_1682885811177.jpg",rating:4,text:"Особенно понравилось местоположение, в самом центре города, на набережной. Вид с балкона великолепный! Приятный владелец. Рекомендую к аренде"},{id:2,name:"Людмила",avatarUrl:"",rating:4,text:"Понравилось все!!! Начиная с того, как была предоставлна информация о том, как добраться и попасть в апартаменты (часто с этим бывают пробле..."},{id:3,name:"Ярослав",avatarUrl:"",rating:3,text:"Понравилось все!!! Начиная с того, как была предоставлна информация о том, как добраться и попасть в апартаменты (часто с этим бывают пробле..."},{id:4,name:"Ариана",avatarUrl:"",rating:5,text:"Понравилось все!!! Начиная с того, как была предоставлна информация о том, как добраться и попасть в апартаменты (часто с этим бывают пробле..."}];var Ca={name:"ApartmentPage",components:{ApartmentsMainInfo:Pe,ReviewsApartments:_a,ApartmentsOwner:Ne,SectionSpacer:lt,ContainerApp:f,CircleLoader:Tt,ErrorMessage:we},data(){return{reviews:va,STYLE:Ae}},methods:{...(0,z.nv)("apartments",["getSelectedApartment"])},computed:{...(0,z.Se)("apartments",["getStateSelectedtApartment","getStateIsLoadingSelectedApartment"," getStateErrorSelectedApatrtment"]),apartment(){return this.getStateSelectedtApartment},isLoadingApartment(){return this.getStateIsLoadingSelectedApartment},isErrorApartment(){return this.getStateErrorSelectedApatrtment}},beforeCreate(){console.log("beforeCreate this.apartment ",this.apartment)},async created(){await this.getSelectedApartment(this.$route.params.id)},beforeMount(){console.log("beforeMount el",this.$el)},mounted(){console.log("Mount el",this.$el)},beforeDestroy(){console.log("beforeDestroy el",this.$el)},destroyed(){console.log("destroy el",this.$el)}},wa=Ca,Sa=(0,m.Z)(wa,Ie,Ee,!1,null,"a9499a3e",null),ya=Sa.exports,Aa=function(){var t=this,e=t._self._c;return e("ContainerApp",[e("section",{staticClass:"error"},[e("h1",{staticClass:"error__title"},[t._v("Page not found 404")])])])},ba=[],La={name:"ErrorPage",components:{ContainerApp:f}},xa=La,Ra=(0,m.Z)(xa,Aa,ba,!1,null,"b0a8c49e",null),Ia=Ra.exports,Ea=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-page"},[e("SectionSpacer",[e("AuthSection",[e("LoginForm",{staticClass:"login-form"})],1)],1)],1)},Za=[],ka=function(){var t=this,e=t._self._c;return e("section",{staticClass:"auth-section"},[t._t("default")],2)},$a=[],Da={name:"AuthSection",components:{}},Oa=Da,Pa=(0,m.Z)(Oa,ka,$a,!1,null,"513674f6",null),Ta=Pa.exports,Fa=function(){var t=this,e=t._self._c;return e("AuthContainer",{attrs:{title:"Логин"}},[e("FormApp",{ref:"form",staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("CustomInput",{staticClass:"form__input email",attrs:{name:"email",rules:t.emailRules,"aria-placeholder":"Email",placeholder:"Email",type:"email",autocomplete:"email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),e("CustomInput",{staticClass:"form__input password",attrs:{name:"password",rules:t.passwordRules,"aria-placeholder":"Password",placeholder:"Password",type:"password",autocomplete:"current-password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),e("SubmitButton",{staticClass:"form__submit-button",attrs:{type:"submit",loading:t.loading}},[t._v("Вход")])],1)],1)},Ma=[],Ua=(a(7658),function(){var t=this,e=t._self._c;return e("form",t._g({staticClass:"form"},t.$listeners),[t._t("default")],2)}),Ba=[],Na={name:"FormApp",provide(){return{form:this}},data(){return{inputs:[]}},methods:{registerInput(t){this.inputs.push(t)},unRegisterInput(t){this.inputs.filter((e=>e!=t))},validate(){return this.inputs.reduce(((t,e)=>{const a=e.validate();return t&&a}),!0)},reset(){this.inputs.forEach((t=>t.reset()))}}},qa=Na,ja=(0,m.Z)(qa,Ua,Ba,!1,null,"1c78b727",null),Va=ja.exports,Ha=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-container"},[t.title?e("MainTitle",{staticClass:"auth-container__title"},[t._v(t._s(t.title))]):t._e(),t._t("default")],2)},Ya=[],Ga={name:"AuthContainer",components:{MainTitle:Qt},props:{title:{type:String,default:null}}},Wa=Ga,za=(0,m.Z)(Wa,Ha,Ya,!1,null,"5f9a3c7a",null),Ja=za.exports;const Ka=t=>({hasPassed:!!t,message:"Пожалуйста заполните это поле"}),Qa=t=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t),message:"Неверный имейл"}),Xa=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d]).{7,256}$/.test(t),message:"Пароль должен содердать одну цифру и один символ"});var ts={name:"LoginApp",components:{FormApp:Va,CustomInput:yt,SubmitButton:Bt,AuthContainer:Ja},data(){return{formData:{email:"",password:""},loading:!1}},computed:{rules(){return{emailValidation:Qa,passwordValidation:Xa,isRequired:Ka}},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired,this.rules.passwordValidation]}},methods:{...(0,z.nv)("auth",["login"]),async handleSubmit(){const{form:t}=this.$refs,e=t.validate();if(e)try{this.loading=!0,console.log("formData",this.formData),await this.login(this.formData),this.$router.push({name:"home-page"}),t.reset()}catch(a){this.$notify({type:"error",title:"Произошла ошибка!",text:a.message}),console.error(a)}finally{this.loading=!1,console.log("store",this.$store.state.user)}}}},es=ts,as=(0,m.Z)(es,Fa,Ma,!1,null,"549f8218",null),ss=as.exports,rs={name:"LoginPage",components:{SectionSpacer:lt,AuthSection:Ta,LoginForm:ss}},ns=rs,is=(0,m.Z)(ns,Ea,Za,!1,null,"6cac7cf9",null),os=is.exports,ls=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register-page"},[e("SectionSpacer",[e("AuthSection",[e("RegisterForm",{staticClass:"register-form"})],1)],1)],1)},ps=[],us=function(){var t=this,e=t._self._c;return e("AuthContainer",{attrs:{title:"Регистрация"}},[e("FormApp",{ref:"form",staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("CustomInput",{staticClass:"form__input name",attrs:{name:"name",rules:t.nameRules,"aria-placeholder":"User-name",placeholder:"Name",type:"text",autocomplete:"username"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),e("CustomInput",{staticClass:"form__input email",attrs:{name:"email",rules:t.emailRules,"aria-placeholder":"Email",placeholder:"Email",type:"email",autocomplete:"email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),e("CustomInput",{staticClass:"form__input password",attrs:{name:"password",rules:t.passwordRules,"aria-placeholder":"Password",placeholder:"Password",type:"password",autocomplete:"current-password"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}}),e("CustomInput",{staticClass:"form__input password",attrs:{name:"confirm password",rules:t.confirmPassword,"aria-placeholder":"Confirm password",placeholder:"Confirm password",type:"password",autocomplete:"current-password"},model:{value:t.formData.confirmPassword,callback:function(e){t.$set(t.formData,"confirmPassword",e)},expression:"formData.confirmPassword"}}),e("SubmitButton",{staticClass:"form__submit-button",attrs:{type:"submit",loading:t.loading}},[t._v("Вход")])],1)],1)},cs=[],ms={name:"RegisterApp",components:{FormApp:Va,CustomInput:yt,SubmitButton:Bt,AuthContainer:Ja},data(){return{formData:{name:"",email:"",password:"",confirmPassword:""},loading:!1}},computed:{rules(){return{emailValidation:Qa,passwordValidation:Xa,isRequired:Ka}},nameRules(){return[this.rules.isRequired]},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired,this.rules.passwordValidation]},confirmPassword(){return[t=>({hasPassed:t===this.formData.password,message:"Пароли не совпадают"})]}},methods:{...(0,z.nv)("auth",["registerUser"]),async handleSubmit(){const{form:t}=this.$refs,e=t.validate(),{name:a,email:s,password:r}=this.formData;if(e)try{this.loading=!0,console.log("formData",this.formData),await this.registerUser({name:a,email:s,password:r}),this.$router.push({name:"home-page"}),t.reset()}catch(n){this.$notify({type:"error",title:"Произошла ошибка!",text:n.message}),console.error(n)}finally{this.loading=!1}}}},ds=ms,fs=(0,m.Z)(ds,us,cs,!1,null,"ac85d9a2",null),hs=fs.exports,gs={name:"RegisterPage",components:{AuthSection:Ta,RegisterForm:hs,SectionSpacer:lt}},_s=gs,vs=(0,m.Z)(_s,ls,ps,!1,null,"ed3811ca",null),Cs=vs.exports,ws=function(){var t=this,e=t._self._c;return e("div",{staticClass:"test"},[e("SectionSpacer",{staticClass:"flex"},[e("h1",[t._v("test")]),e("CircleLoader")],1)],1)},Ss=[],ys={name:"TestPage",components:{SectionSpacer:lt,CircleLoader:Tt}},As=ys,bs=(0,m.Z)(As,ws,Ss,!1,null,"5b91fc6a",null),Ls=bs.exports;const xs=[{path:"/",component:Re,name:"home-page"},{path:"/login",component:os,name:"login-page"},{path:"/register",component:Cs,name:"register-page"},{path:"/apartments/:id",component:ya,name:"apartment"},{path:"/test",component:Ls,name:"test-page"},{path:"*",component:Ia,name:"error-page"}],Rs=new tt.Z({routes:xs,mode:"history"});var Is=Rs,Es=a(7131),Zs=a.n(Es),ks=a(4161);const $s=ks.Z.create({baseURL:"https://apt-booking-api.herokuapp.com"});var Ds=$s;const Os=t=>Ds.post("/users/login",t),Ps=t=>Ds.post("/users/register",t),Ts={user:"",token:""};var Fs={namespaced:!0,state:{...Ts},getters:{isLoggedIn(t){return Boolean(t.token)}},mutations:{setUserData(t,e){t.user=e},setToken(t,e){t.token=e}},actions:{async login(t,e){const{commit:a}=t,{data:s}=await Os(e),{user:r,token:n}=s;a("setUserData",r),a("setToken",n)},async registerUser(t,e){const{commit:a}=t,{data:s}=await Ps(e),{user:r,token:n}=s;a("setUserData",r),a("setToken",n)}}};const Ms=()=>Ds.get("/apartments"),Us=t=>Ds.get(`/apartments/${t}`),Bs={apartmentsList:[],isLoadingApartmentsList:!1,errorApatrtmentsList:null,selectedApartment:{},isLoadingSelectedApartment:!1,errorSelectedApartment:null};var Ns={namespaced:!0,state:{...Bs},mutations:{setApartmentsList(t,e){t.apartmentsList=e},setIsLoadingApatrtmentsList(t,e){t.isLoadingApartmentsList=e},setErrorApatrtmentsList(t,e){t.errorApatrtmentsList=e},setSelectedApartment(t,e){t.selectedApartment=e},setIsLoadingSelectedApartment(t,e){t.isLoadingSelectedApartment=e},setErrorSelectedApartment(t,e){t.errorSelectedApartment=e}},actions:{async getApartmentsList(t,e){const{commit:a}=t;try{a("setErrorApatrtmentsList",null),a("setIsLoadingApatrtmentsList",!0);const{data:t}=await Ms(e);a("setApartmentsList",t)}catch(s){a("setErrorApatrtmentsList",s),this.$notify({type:"error",title:"Произошла ошибка!",text:s.message})}finally{a("setIsLoadingApatrtmentsList",!1)}},async getSelectedApartment(t,e){const{commit:a}=t;try{a("setErrorSelectedApartment",null),a("setIsLoadingSelectedApartment",!0);const{data:t}=await Us(e);a("setSelectedApartment",t)}catch(s){a("setErrorSelectedApartment",s),this.$notify({type:"error",title:"Произошла ошибка!",text:s.message})}finally{a("setIsLoadingSelectedApartment",!1)}}},getters:{getStateCities(t){return t.apartmentsList.map((t=>t.location.city)).filter(((t,e,a)=>a.indexOf(t)===e))},getStateApartments(t){return t.apartmentsList},getStateIsLoadingApartmentsList(t){return t.isLoadingApartmentsList},getStateErrorApatrtmentsList(t){return t.errorApatrtmentsList},getStateSelectedtApartment(t){return t.selectedApartment},getStateIsLoadingSelectedApartment(t){return t.isLoadingSelectedApartment},getStateErrorSelectedApatrtment(t){return t.errorSelectedApartment}}},qs=a(2415);s["default"].config.devtools=!1,s["default"].use(z.ZP);const js=(0,qs.Z)({paths:["auth.token"]}),Vs=new z.ZP.Store({modules:{auth:Fs,apartments:Ns},plugins:[js]});var Hs=Vs;s["default"].config.devtools=!0,s["default"].config.productionTip=!1,s["default"].use(tt.Z),s["default"].use(Zs()),new s["default"]({render:t=>t(X),router:Is,store:Hs}).$mount("#app")},8773:function(t,e,a){t.exports=a.p+"img/Logo.bd3a3f0b.svg"},9815:function(t,e,a){t.exports=a.p+"img/User.cc83cec5.svg"},1243:function(t,e,a){t.exports=a.p+"img/eye-closed.5b52ef74.svg"},5649:function(t,e,a){t.exports=a.p+"img/eye.27115a54.svg"}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,n){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,n<i&&(i=n));if(o){t.splice(u--,1);var p=r();void 0!==p&&(e=p)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/go_home-project/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,i=s[0],o=s[1],l=s[2],p=0;if(i.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var u=l(a)}for(e&&e(s);p<i.length;p++)n=i[p],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkgo_home_project"]=self["webpackChunkgo_home_project"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7422)}));s=a.O(s)})();
//# sourceMappingURL=app.49335f5e.js.map