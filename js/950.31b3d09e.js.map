{"version":3,"file":"js/950.31b3d09e.js","mappings":"0KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,gBAAgB,CAACA,EAAG,cAAc,CAACA,EAAG,YAAY,CAACE,YAAY,gBAAgB,IAAI,IAAI,EAClM,EACIC,EAAkB,G,oBCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,gBAAgB,CAACI,MAAM,CAAC,MAAQ,UAAU,CAACJ,EAAG,UAAU,CAACK,IAAI,OAAOH,YAAY,OAAOI,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,aAAaC,MAAM,KAAMC,UAAU,IAAI,CAACX,EAAG,cAAc,CAACE,YAAY,oBAAoBE,MAAM,CAAC,KAAO,QAAQ,MAAQN,EAAIc,WAAW,mBAAmB,QAAQ,YAAc,QAAQ,KAAO,QAAQ,aAAe,SAASC,MAAM,CAACC,MAAOhB,EAAIiB,SAASC,MAAOC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIiB,SAAU,QAASG,EAAI,EAAEE,WAAW,oBAAoBpB,EAAG,cAAc,CAACE,YAAY,uBAAuBE,MAAM,CAAC,KAAO,WAAW,MAAQN,EAAIuB,cAAc,mBAAmB,WAAW,YAAc,WAAW,KAAO,WAAW,aAAe,oBAAoBR,MAAM,CAACC,MAAOhB,EAAIiB,SAASO,SAAUL,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIiB,SAAU,WAAYG,EAAI,EAAEE,WAAW,uBAAuBpB,EAAG,eAAe,CAACE,YAAY,sBAAsBE,MAAM,CAAC,KAAO,SAAS,QAAUN,EAAIyB,UAAU,CAACzB,EAAI0B,GAAG,WAAW,IAAI,EACrhC,EACIrB,EAAkB,G,sECkCtB,GACAsB,KAAA,WACAC,WAAA,CAAAC,QAAA,IAAAC,YAAA,IAAAC,aAAA,IAAAC,cAAAA,EAAAA,GACAC,IAAAA,GACA,OAAAhB,SAAA,CAAAC,MAAA,GAAAM,SAAA,IAAAC,SAAA,EACA,EACAS,SAAA,CACAC,KAAAA,GACA,OAAAC,gBAAA,KAAAC,mBAAA,KAAAC,WAAAA,EAAAA,GACA,EACAxB,UAAAA,GACA,YAAAqB,MAAAG,WAAA,KAAAH,MAAAC,gBACA,EACAb,aAAAA,GACA,YAAAY,MAAAG,WAAA,KAAAH,MAAAE,mBACA,GAKAE,QAAA,KACAC,EAAAA,EAAAA,IAAA,kBACA,kBAAA7B,GACA,WAAA8B,GAAA,KAAAC,MAEAC,EAAAF,EAAAG,WAEA,GAAAD,EACA,IACA,KAAAlB,SAAA,EACAoB,QAAAC,IAAA,gBAAA7B,gBAUA,KAAA8B,MAAA,KAAA9B,UAEA,KAAA+B,QAAAC,KAAA,CAAAtB,KAAA,cACAc,EAAAS,OACA,OAAAC,GACA,KAAAC,QAAA,CACAC,KAAA,QACAC,MAAA,oBACAC,KAAAJ,EAAAK,UAEAX,QAAAM,MAAAA,EACA,SACA,KAAA1B,SAAA,EACAoB,QAAAC,IAAA,aAAAW,OAAAC,MAAAC,KACA,CAEA,IC5F0Q,I,UCQtQC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCLhC,GACAjC,KAAA,YACAC,WAAA,CACAiC,cAAA,IACAC,YAAA,IACAC,UAAAA,ICnByP,ICQrP,GAAY,OACd,EACAhE,EACAM,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O","sources":["webpack://go_home-project/./src/Pages/LoginPage.vue","webpack://go_home-project/./src/components/Auth/LoginApp/LoginApp.vue","webpack://go_home-project/src/components/Auth/LoginApp/LoginApp.vue","webpack://go_home-project/./src/components/Auth/LoginApp/LoginApp.vue?97e9","webpack://go_home-project/./src/components/Auth/LoginApp/LoginApp.vue?2b17","webpack://go_home-project/src/Pages/LoginPage.vue","webpack://go_home-project/./src/Pages/LoginPage.vue?79fa","webpack://go_home-project/./src/Pages/LoginPage.vue?3a97"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-page\"},[_c('SectionSpacer',[_c('AuthSection',[_c('LoginForm',{staticClass:\"login-form\"})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AuthContainer',{attrs:{\"title\":'Логин'}},[_c('FormApp',{ref:\"form\",staticClass:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('CustomInput',{staticClass:\"form__input email\",attrs:{\"name\":\"email\",\"rules\":_vm.emailRules,\"aria-placeholder\":\"Email\",\"placeholder\":\"Email\",\"type\":'email',\"autocomplete\":\"email\"},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}}),_c('CustomInput',{staticClass:\"form__input password\",attrs:{\"name\":\"password\",\"rules\":_vm.passwordRules,\"aria-placeholder\":\"Password\",\"placeholder\":\"Password\",\"type\":'password',\"autocomplete\":\"current-password\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}}),_c('SubmitButton',{staticClass:\"form__submit-button\",attrs:{\"type\":\"submit\",\"loading\":_vm.loading}},[_vm._v(\"Вход\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <AuthContainer :title=\"'Логин'\">\r\n    <FormApp ref=\"form\" @submit.prevent=\"handleSubmit\" class=\"form\">\r\n      <CustomInput\r\n        v-model=\"formData.email\"\r\n        name=\"email\"\r\n        class=\"form__input email\"\r\n        :rules=\"emailRules\"\r\n        aria-placeholder=\"Email\"\r\n        placeholder=\"Email\"\r\n        :type=\"'email'\"\r\n        autocomplete=\"email\"\r\n      />\r\n      <CustomInput\r\n        v-model=\"formData.password\"\r\n        name=\"password\"\r\n        class=\"form__input password\"\r\n        :rules=\"passwordRules\"\r\n        aria-placeholder=\"Password\"\r\n        placeholder=\"Password\"\r\n        :type=\"'password'\"\r\n        autocomplete=\"current-password\"\r\n      />\r\n      <SubmitButton type=\"submit\" :loading=\"loading\" class=\"form__submit-button\">Вход</SubmitButton>\r\n    </FormApp>\r\n  </AuthContainer>\r\n</template>\r\n\r\n<script>\r\nimport FormApp from '../../Shared/Form/FormApp';\r\nimport CustomInput from '../../Shared/CustomInput';\r\nimport SubmitButton from '../../ButtonMain/ButtonMain';\r\nimport AuthContainer from '../AuthContainer.vue';\r\nimport { emailValidation, passwordValidation, isRequired } from '../../../utils/validationRules';\r\nimport { mapActions } from 'vuex';\r\n// import { loginUser } from '../../../services/auth.services';\r\nexport default {\r\n  name: 'LoginApp',\r\n  components: { FormApp, CustomInput, SubmitButton, AuthContainer },\r\n  data() {\r\n    return { formData: { email: '', password: '' }, loading: false };\r\n  },\r\n  computed: {\r\n    rules() {\r\n      return { emailValidation, passwordValidation, isRequired };\r\n    },\r\n    emailRules() {\r\n      return [this.rules.isRequired, this.rules.emailValidation];\r\n    },\r\n    passwordRules() {\r\n      return [this.rules.isRequired, this.rules.passwordValidation];\r\n    },\r\n  },\r\n  //   mounted() {\r\n  //     console.log('ref form', this.$refs.form);\r\n  //   },\r\n  methods: {\r\n    ...mapActions('auth', ['login']),\r\n    async handleSubmit() {\r\n      const { form } = this.$refs;\r\n      // console.log('ref', this.$refs.form);\r\n      const isFormValid = form.validate();\r\n      // console.log('submitForm', isFormValid);\r\n      if (isFormValid) {\r\n        try {\r\n          this.loading = true;\r\n          console.log('formData', this.formData);\r\n          // const { data } = await loginUser(this.formData);\r\n          // this.$store.commit('setUserData', data.user);\r\n          // this.$store.commit('setToken', data.token);\r\n          // console.log('result data', data);\r\n          // console.log('store', this.$store.state);\r\n\r\n          //////////////////////////////////////////////////////////////\r\n\r\n          // await this.$store.dispatch('auth/login', this.formData);\r\n          await this.login(this.formData);\r\n          /////////////////////////////////////////////////////////\r\n          this.$router.push({ name: 'home-page' });\r\n          form.reset();\r\n        } catch (error) {\r\n          this.$notify({\r\n            type: 'error',\r\n            title: 'Произошла ошибка!',\r\n            text: error.message,\r\n          });\r\n          console.error(error);\r\n        } finally {\r\n          this.loading = false;\r\n          console.log('store', this.$store.state.user);\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n  width: 100%;\r\n  &__input:not(:last-of-type) {\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  &__submit-button {\r\n    font-family: inherit;\r\n    width: 100%;\r\n    margin-top: 37px;\r\n  }\r\n}\r\n.password {\r\n  margin-top: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginApp.vue?vue&type=template&id=549f8218&scoped=true&\"\nimport script from \"./LoginApp.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginApp.vue?vue&type=style&index=0&id=549f8218&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"549f8218\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login-page\">\r\n    <SectionSpacer>\r\n      <AuthSection>\r\n        <LoginForm class=\"login-form\" />\r\n      </AuthSection>\r\n    </SectionSpacer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport SectionSpacer from '../components/Shared/SectionWithHeaderSpacer.vue';\r\nimport AuthSection from '../components/Auth/AuthSection';\r\nimport LoginForm from '../components/Auth/LoginApp/LoginApp';\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n  components: {\r\n    SectionSpacer,\r\n    AuthSection,\r\n    LoginForm,\r\n  },\r\n  // methods: {\r\n  //   handleSubmit(value) {\r\n  //     console.log('LoginForm data', value);\r\n  //   },\r\n  // },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/scss/variables.scss';\r\n.login-page {\r\n  position: relative;\r\n}\r\n\r\n.login-form {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=6cac7cf9&scoped=true&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginPage.vue?vue&type=style&index=0&id=6cac7cf9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6cac7cf9\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticRenderFns","attrs","ref","on","$event","preventDefault","handleSubmit","apply","arguments","emailRules","model","value","formData","email","callback","$$v","$set","expression","passwordRules","password","loading","_v","name","components","FormApp","CustomInput","SubmitButton","AuthContainer","data","computed","rules","emailValidation","passwordValidation","isRequired","methods","mapActions","form","$refs","isFormValid","validate","console","log","login","$router","push","reset","error","$notify","type","title","text","message","$store","state","user","component","SectionSpacer","AuthSection","LoginForm"],"sourceRoot":""}